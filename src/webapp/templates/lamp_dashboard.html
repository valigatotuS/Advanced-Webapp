<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="static/css/style.css" >
    <script type="text/javascript" src="static/js/dyn.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
    <title>LAMPS</title>
</head>
<body>
    <ul class="nav nav-pills nav-fill">
        <li class="nav-item">
          <a class="nav-link active" href="/">Lamp Remote Control</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/history">History</a>
        </li>
        <!-- <li class="nav-item">
          <a class="nav-link" href="#">User</a>
        </li> -->
        <li class="nav-item">
          <a class="nav-link disabled" href="/logout">Logout</a>
        </li>
    </ul>

    <div class="flexcontainer">

        
        <div id="lamp1a" class="lampcontainer">
            <p>1a</p>
            <div id="lamp1a" class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp1aslider">
                <span class='waarde' id="lamp1asliderwaarde"></span>
            </div>
        </div>

        <div id="lamp1b" class="lampcontainer">
            <p>1b</p>
            <div id="lamp1b" class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp1bslider">
                <span class='waarde' id="lamp1bsliderwaarde"></span>
            </div>
        </div>

        <div id="lamp1c" class="lampcontainer">
            <p>1c</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp1cslider">
                <span class='waarde' id="lamp1csliderwaarde"></span>
            </div>
        </div>

        <div id="lamp2a" class="lampcontainer">
            <p>2a</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp2aslider">
                <span class='waarde' id="lamp2asliderwaarde"></span>
            </div>
        </div>

        <div id="lamp2b" class="lampcontainer">
            <p>2b</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp2bslider">
                <span class='waarde' id="lamp2bsliderwaarde"></span>
            </div>
        </div>

        <div id="lamp2c" class="lampcontainer">
            <p>2c</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp2cslider">
                <span class='waarde' id="lamp2csliderwaarde"></span>
            </div>
        </div>

        <div id="lamp3a" class="lampcontainer">
            <p>3a</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp3aslider">
                <span class='waarde' id="lamp3asliderwaarde"></span>
            </div>
        </div>

        <div id="lamp3b" class="lampcontainer">
            <p>3b</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp3bslider">
                <span class='waarde' id="lamp3bsliderwaarde"></span>
            </div>
        </div>

        <div id="lamp3c" class="lampcontainer">
            <p>3c</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp3cslider">
                <span class='waarde' id="lamp3csliderwaarde"></span>
            </div>
        </div>

        <div id="lamp4a" class="lampcontainer">
            <p>4a</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp4aslider">
                <span class='waarde' id="lamp4asliderwaarde"></span>
            </div>
        </div>

        <div id="lamp4b" class="lampcontainer">
            <p>4b</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp4bslider">
                <span class='waarde' id="lamp4bsliderwaarde"></span>
            </div>
        </div>

        <div id="lamp4c" class="lampcontainer">
            <p>4c</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp4cslider">
                <span class='waarde' id="lamp4csliderwaarde"></span>
            </div>
        </div>

        <div id="lamp5a" class="lampcontainer">
            <p>5a</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp5aslider">
                <span class='waarde' id="lamp5asliderwaarde"></span>
            </div>
        </div>

        <div id="lamp5b" class="lampcontainer">
            <p>5b</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp5bslider">
                <span class='waarde' id="lamp5bsliderwaarde"></span>
            </div>
        </div>

        <div id="lamp5c" class="lampcontainer">
            <p>5c</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="lamp5cslider">
                <span class='waarde' id="lamp5csliderwaarde"></span>
            </div>
        </div>

        <div id="all" class="lampcontainer">
            <p>Room</p>
            <div class="slidecontainer">
                <input type="range" min="0" max="100" class="mijnsliders" id="allslider">
                <span class='waarde' id="allsliderwaarde"></span>
            </div>
        </div>

    </div>

    <script>
      var socket = io();
    
      socket.on('ReceiveFromChatServer', function(msg) {
        console.log("msg:" + msg)
        var i = 0
        var room_brightness = 0
        for (const [key, value] of Object.entries(msg)) {
            // console.log(key, value);
            $('#' + key + 'sliderwaarde').text(value.toString() + "%");
            $('#' + key + 'slider').val(value);
            room_brightness += value;
            i++; 
        }
        room_brightness = (room_brightness / i) >> 0;
        $('#allsliderwaarde').text(room_brightness.toString() + "%");
        $('#allslider').val(room_brightness);
      });
    </script> 

    </body>
</html>